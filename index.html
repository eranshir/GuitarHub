<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GuitarHub - Master Your Fretboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Portrait Warning Overlay (Mobile Only) -->
    <div id="portrait-warning" class="portrait-warning" style="display: none;">
        <div class="warning-content">
            <div class="rotate-icon">üîÑ</div>
            <h2 data-i18n="mobile.rotateTitle">Please Rotate Your Device</h2>
            <p data-i18n="mobile.rotateMessage">GuitarHub works best in landscape mode for the full fretboard experience.</p>
            <button id="dismiss-portrait-warning" class="dismiss-warning-btn" data-i18n="mobile.continueAnyway">Continue Anyway</button>
        </div>
    </div>

    <!-- Mobile Navigation Overlay -->
    <div id="mobile-nav-overlay" class="mobile-nav-overlay" style="display: none;">
        <div class="mobile-nav-backdrop"></div>
        <div class="mobile-nav-drawer">
            <div class="drawer-header">
                <h2 data-i18n="app.title">GuitarHub</h2>
                <button id="close-mobile-nav" class="close-drawer-btn">‚úï</button>
            </div>
            <nav class="drawer-nav">
                <button class="drawer-nav-btn active" data-module="fretboard" data-i18n="nav.fretboard">Fretboard Memory</button>
                <button class="drawer-nav-btn" data-module="intervals" data-i18n="nav.intervals">Intervals Memory</button>
                <button class="drawer-nav-btn" data-module="chords" data-i18n="nav.chords">Chords Memory</button>
                <button class="drawer-nav-btn" data-module="spot-note" data-i18n="nav.spotNote">Spot a Note</button>
                <button class="drawer-nav-btn" data-module="assistant" data-i18n="nav.assistant">Assistant</button>
                <button class="drawer-nav-btn" data-module="stats" data-i18n="nav.stats">Statistics</button>
                <button class="drawer-nav-btn" id="mobile-songs-btn" data-i18n="nav.songs">Songs Browser</button>
            </nav>
        </div>
    </div>

    <!-- Triple-tap indicator -->
    <div id="tap-indicator" class="tap-indicator" style="display: none;">üìö</div>

    <div class="container">
        <!-- Mobile Header (Hidden on Desktop) -->
        <div class="mobile-header">
            <button id="mobile-menu-toggle" class="icon-btn" aria-label="Menu">‚ò∞</button>
            <div class="mobile-title">
                <h1 data-i18n="app.title">GuitarHub</h1>
            </div>
            <div class="mobile-actions">
                <button id="mobile-settings-toggle" class="icon-btn" aria-label="Settings">‚öôÔ∏è</button>
                <button id="mobile-chat-toggle" class="icon-btn" aria-label="Chat" style="display: none;">üí¨</button>
            </div>
        </div>

        <!-- Desktop Header (Hidden on Mobile) -->
        <header class="desktop-header">
            <div class="header-content">
                <div class="header-title">
                    <h1 data-i18n="app.title">GuitarHub</h1>
                    <p class="tagline" data-i18n="app.tagline">Master Your Fretboard</p>
                </div>
                <div class="language-selector">
                    <select id="language-select" class="language-dropdown">
                        <option value="en">üá∫üá∏ English</option>
                        <option value="he">üáÆüá± ◊¢◊ë◊®◊ô◊™</option>
                    </select>
                </div>
            </div>
        </header>

        <nav class="module-nav desktop-nav">
            <button class="module-btn active" data-module="fretboard" data-i18n="nav.fretboard">Fretboard Memory</button>
            <button class="module-btn" data-module="intervals" data-i18n="nav.intervals">Intervals Memory</button>
            <button class="module-btn" data-module="chords" data-i18n="nav.chords">Chords Memory</button>
            <button class="module-btn" data-module="spot-note" data-i18n="nav.spotNote">Spot a Note</button>
            <button class="module-btn" data-module="assistant" data-i18n="nav.assistant">Assistant</button>
            <button class="module-btn" data-module="stats" data-i18n="nav.stats">Statistics</button>
        </nav>

        <main>
            <!-- Fretboard Memory Module -->
            <section id="fretboard-module" class="module active">
                <div class="game-mode-selector">
                    <button class="mode-btn active" data-mode="note-to-fret" data-i18n="fretboard.modes.noteToFret">Note ‚Üí Fret</button>
                    <button class="mode-btn" data-mode="fret-to-note" data-i18n="fretboard.modes.fretToNote">Fret ‚Üí Note</button>
                </div>

                <div class="game-container">
                    <div class="question-card">
                        <div class="timer-display">00:00</div>
                        <div class="score-display">
                            <span class="correct">‚úì <span id="correct-count">0</span></span>
                            <span class="incorrect">‚úó <span id="incorrect-count">0</span></span>
                            <span class="streak">üî• <span id="streak-count">0</span></span>
                        </div>
                        
                        <div class="session-controls" style="display: none;">
                            <button id="pause-btn" class="pause-btn" data-i18n="common.pause">‚è∏ Pause</button>
                            <button id="resume-btn" class="resume-btn" style="display: none;" data-i18n="common.resume">‚ñ∂ Resume</button>
                            <button id="stop-btn" class="stop-btn" data-i18n="common.endSession">End Session</button>
                        </div>
                        
                        <div class="feedback" id="feedback"></div>
                        
                        <div id="start-screen" class="game-content active">
                            <h2 class="welcome-title" data-i18n="fretboard.welcome.title">Ready to Practice?</h2>
                            <p class="welcome-text" data-i18n="fretboard.welcome.text">Test your knowledge of the fretboard and improve your note recognition skills.</p>
                            <button id="start-btn" class="start-btn" data-i18n="common.start">Start Practice Session</button>
                        </div>
                        
                        <div id="pause-overlay" class="pause-overlay" style="display: none;">
                            <div class="pause-content">
                                <h2 data-i18n="fretboard.pause.title">Session Paused</h2>
                                <p data-i18n="fretboard.pause.text">Take your time. Click Resume when you're ready to continue.</p>
                                <button id="resume-overlay-btn" class="resume-btn" data-i18n="common.resume">‚ñ∂ Resume</button>
                            </div>
                        </div>
                        
                        <div id="note-to-fret-game" class="game-content">
                            <h2 class="question" data-i18n="fretboard.questions.noteToFret">Find this note:</h2>
                            <div class="note-display">
                                <span class="note-name" id="target-note">-</span>
                                <span class="string-info"><span data-i18n="fretboard.questions.onString">on string</span> <span id="target-string">-</span></span>
                            </div>
                            <button class="play-sound-btn" id="play-note" data-i18n="common.playSound">üîä Play Note</button>
                            <div class="help-controls">
                                <button class="show-me-btn" id="show-me-note" data-i18n="common.showMe">Show me</button>
                                <button class="next-btn" id="next-note" style="display: none;" data-i18n="common.next">Next</button>
                            </div>
                            <p class="instruction-text" data-i18n="fretboard.instruction">Click on the correct fret position below:</p>
                            <div class="fretboard-container">
                                <div class="fretboard" id="fretboard-note-to-fret">
                                    <!-- Fretboard will be generated dynamically -->
                                </div>
                            </div>
                        </div>

                        <div id="fret-to-note-game" class="game-content">
                            <h2 class="question" data-i18n="fretboard.questions.fretToNote">What note is this?</h2>
                            <div class="fretboard-container">
                                <div class="fretboard" id="fretboard">
                                    <!-- Fretboard will be generated dynamically -->
                                </div>
                            </div>
                            <button class="play-sound-btn" id="play-fret-note" data-i18n="common.playSound">üîä Play Note</button>
                            <div class="note-selector">
                                <div class="note-buttons">
                                    <button class="note-btn" data-note="C">C</button>
                                    <button class="note-btn" data-note="C#">C#/Db</button>
                                    <button class="note-btn" data-note="D">D</button>
                                    <button class="note-btn" data-note="D#">D#/Eb</button>
                                    <button class="note-btn" data-note="E">E</button>
                                    <button class="note-btn" data-note="F">F</button>
                                    <button class="note-btn" data-note="F#">F#/Gb</button>
                                    <button class="note-btn" data-note="G">G</button>
                                    <button class="note-btn" data-note="G#">G#/Ab</button>
                                    <button class="note-btn" data-note="A">A</button>
                                    <button class="note-btn" data-note="A#">A#/Bb</button>
                                    <button class="note-btn" data-note="B">B</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-panel">
                        <h3 data-i18n="common.settings">Settings</h3>
                        <div class="setting-group">
                            <label>
                                <input type="checkbox" id="include-sharps" checked>
                                <span data-i18n="fretboard.settings.includeSharps">Include sharps/flats</span>
                            </label>
                        </div>
                        <div class="setting-group">
                            <label data-i18n="fretboard.settings.fretRange">Fret range:</label>
                            <input type="number" id="min-fret" min="0" max="24" value="0"> -
                            <input type="number" id="max-fret" min="0" max="24" value="12">
                        </div>
                        <div class="setting-group">
                            <label data-i18n="fretboard.settings.strings">Strings:</label>
                            <div class="string-toggles">
                                <label><input type="checkbox" class="string-toggle" data-string="1" checked> <span data-i18n="fretboard.settings.string1">1st (E)</span></label>
                                <label><input type="checkbox" class="string-toggle" data-string="2" checked> <span data-i18n="fretboard.settings.string2">2nd (B)</span></label>
                                <label><input type="checkbox" class="string-toggle" data-string="3" checked> <span data-i18n="fretboard.settings.string3">3rd (G)</span></label>
                                <label><input type="checkbox" class="string-toggle" data-string="4" checked> <span data-i18n="fretboard.settings.string4">4th (D)</span></label>
                                <label><input type="checkbox" class="string-toggle" data-string="5" checked> <span data-i18n="fretboard.settings.string5">5th (A)</span></label>
                                <label><input type="checkbox" class="string-toggle" data-string="6" checked> <span data-i18n="fretboard.settings.string6">6th (E)</span></label>
                            </div>
                        </div>
                        <div class="setting-group">
                            <button id="apply-fretboard-settings" class="apply-settings-btn" data-i18n="common.applySettings">Apply Settings</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Intervals Memory Module -->
            <section id="intervals-module" class="module">
                <div class="game-mode-selector">
                    <button class="interval-mode-btn active" data-mode="interval-note-to-fret" data-i18n="intervals.modes.noteToFret">Notes ‚Üí Fret</button>
                    <button class="interval-mode-btn" data-mode="interval-fret-to-note" data-i18n="intervals.modes.fretToNote">Fret ‚Üí Notes</button>
                </div>

                <div class="game-container">
                    <div class="question-card">
                        <div class="timer-display" id="interval-timer">00:00</div>
                        <div class="score-display">
                            <span class="correct">‚úì <span id="interval-correct-count">0</span></span>
                            <span class="incorrect">‚úó <span id="interval-incorrect-count">0</span></span>
                            <span class="streak">üî• <span id="interval-streak-count">0</span></span>
                        </div>
                        
                        <div class="session-controls" id="interval-session-controls" style="display: none;">
                            <button id="interval-pause-btn" class="pause-btn" data-i18n="common.pause">‚è∏ Pause</button>
                            <button id="interval-resume-btn" class="resume-btn" style="display: none;" data-i18n="common.resume">‚ñ∂ Resume</button>
                            <button id="interval-stop-btn" class="stop-btn" data-i18n="common.endSession">End Session</button>
                        </div>
                        
                        <div class="feedback" id="interval-feedback"></div>
                        
                        <div id="interval-start-screen" class="game-content active">
                            <h2 class="welcome-title" data-i18n="intervals.title">Interval Training</h2>
                            <p class="welcome-text" data-i18n="intervals.welcome">Master intervals on the fretboard and develop your harmonic understanding.</p>
                            <button id="interval-start-btn" class="start-btn" data-i18n="intervals.startButton">Start Interval Session</button>
                        </div>
                        
                        <div id="interval-pause-overlay" class="pause-overlay" style="display: none;">
                            <div class="pause-content">
                                <h2>Session Paused</h2>
                                <p>Take your time. Click Resume when you're ready to continue.</p>
                                <button id="interval-resume-overlay-btn" class="resume-btn">‚ñ∂ Resume</button>
                            </div>
                        </div>
                        
                        <div id="interval-note-to-fret-game" class="game-content">
                            <h2 class="question">Find these notes:</h2>
                            <div class="interval-display">
                                <div class="interval-info">
                                    <span class="interval-type" id="target-interval">Major 3rd</span>
                                    <span class="interval-notes">from <span id="root-note">C</span></span>
                                </div>
                            </div>
                            <button class="play-sound-btn" id="play-interval">üîä Play Interval</button>
                            <div class="help-controls">
                                <button class="show-me-btn" id="show-me-interval">Show me</button>
                                <button class="next-btn" id="next-interval" style="display: none;">Next</button>
                            </div>
                            <p class="instruction-text">Click two positions on the fretboard:</p>
                            <div class="fretboard-container">
                                <div class="fretboard" id="fretboard-interval-note-to-fret">
                                    <!-- Fretboard will be generated dynamically -->
                                </div>
                            </div>
                            <div class="selected-notes">
                                <span>Selected: <span id="selected-interval-notes">None</span></span>
                                <button id="clear-interval-selection" class="clear-btn-small">Clear</button>
                            </div>
                        </div>

                        <div id="interval-fret-to-note-game" class="game-content">
                            <h2 class="question">What interval is this?</h2>
                            <div class="fretboard-container">
                                <div class="fretboard" id="fretboard-interval-fret-to-note">
                                    <!-- Fretboard will be generated dynamically -->
                                </div>
                            </div>
                            <button class="play-sound-btn" id="play-interval-fret">üîä Play Interval</button>
                            <div class="interval-selector">
                                <p>Select the interval:</p>
                                <div class="interval-buttons">
                                    <button class="interval-btn" data-interval="m2">Minor 2nd</button>
                                    <button class="interval-btn" data-interval="M2">Major 2nd</button>
                                    <button class="interval-btn" data-interval="m3">Minor 3rd</button>
                                    <button class="interval-btn" data-interval="M3">Major 3rd</button>
                                    <button class="interval-btn" data-interval="P4">Perfect 4th</button>
                                    <button class="interval-btn" data-interval="TT">Tritone</button>
                                    <button class="interval-btn" data-interval="P5">Perfect 5th</button>
                                    <button class="interval-btn" data-interval="m6">Minor 6th</button>
                                    <button class="interval-btn" data-interval="M6">Major 6th</button>
                                    <button class="interval-btn" data-interval="m7">Minor 7th</button>
                                    <button class="interval-btn" data-interval="M7">Major 7th</button>
                                    <button class="interval-btn" data-interval="P8">Octave</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-panel">
                        <h3>Interval Settings</h3>
                        <div class="setting-group">
                            <label>Practice Intervals:</label>
                            <div class="interval-toggles">
                                <label><input type="checkbox" class="interval-toggle" data-interval="m2" checked> Minor 2nd</label>
                                <label><input type="checkbox" class="interval-toggle" data-interval="M2" checked> Major 2nd</label>
                                <label><input type="checkbox" class="interval-toggle" data-interval="m3" checked> Minor 3rd</label>
                                <label><input type="checkbox" class="interval-toggle" data-interval="M3" checked> Major 3rd</label>
                                <label><input type="checkbox" class="interval-toggle" data-interval="P4" checked> Perfect 4th</label>
                                <label><input type="checkbox" class="interval-toggle" data-interval="TT"> Tritone</label>
                                <label><input type="checkbox" class="interval-toggle" data-interval="P5" checked> Perfect 5th</label>
                                <label><input type="checkbox" class="interval-toggle" data-interval="m6"> Minor 6th</label>
                                <label><input type="checkbox" class="interval-toggle" data-interval="M6" checked> Major 6th</label>
                                <label><input type="checkbox" class="interval-toggle" data-interval="m7"> Minor 7th</label>
                                <label><input type="checkbox" class="interval-toggle" data-interval="M7"> Major 7th</label>
                                <label><input type="checkbox" class="interval-toggle" data-interval="P8" checked> Octave</label>
                            </div>
                        </div>
                        <div class="setting-group">
                            <label>Interval Direction:</label>
                            <select id="interval-direction">
                                <option value="ascending">Ascending Only</option>
                                <option value="descending">Descending Only</option>
                                <option value="both" selected>Both</option>
                            </select>
                        </div>
                        <div class="setting-group">
                            <label>String Pairs:</label>
                            <select id="string-pairs">
                                <option value="adjacent">Adjacent Strings Only</option>
                                <option value="skip">Skip One String</option>
                                <option value="all" selected>All Combinations</option>
                            </select>
                        </div>
                        <div class="setting-group">
                            <label>Fret range:</label>
                            <input type="number" id="interval-min-fret" min="0" max="24" value="0"> -
                            <input type="number" id="interval-max-fret" min="0" max="24" value="12">
                        </div>
                        <div class="setting-group">
                            <button id="apply-interval-settings" class="apply-settings-btn" data-i18n="common.applySettings">Apply Settings</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Chords Memory Module -->
            <section id="chords-module" class="module">
                <div class="game-mode-selector">
                    <button class="chord-mode-btn active" data-mode="chord-fret-to-name" data-i18n="chords.modes.fretToName">Fret ‚Üí Chord</button>
                    <button class="chord-mode-btn" data-mode="chord-name-to-fret" data-i18n="chords.modes.nameToFret">Chord ‚Üí Fret</button>
                    <button class="chord-mode-btn" data-mode="chord-positions" data-i18n="chords.modes.chordPositions">Chord Positions</button>
                </div>

                <div class="game-container">
                    <div class="question-card">
                        <div class="timer-display" id="chord-timer">00:00</div>
                        <div class="score-display">
                            <span class="correct">‚úì <span id="chord-correct-count">0</span></span>
                            <span class="incorrect">‚úó <span id="chord-incorrect-count">0</span></span>
                            <span class="streak">üî• <span id="chord-streak-count">0</span></span>
                        </div>
                        
                        <div class="session-controls" id="chord-session-controls" style="display: none;">
                            <button id="chord-pause-btn" class="pause-btn" data-i18n="common.pause">‚è∏ Pause</button>
                            <button id="chord-resume-btn" class="resume-btn" style="display: none;" data-i18n="common.resume">‚ñ∂ Resume</button>
                            <button id="chord-stop-btn" class="stop-btn" data-i18n="common.endSession">End Session</button>
                        </div>
                        
                        <div class="feedback" id="chord-feedback"></div>
                        
                        <div id="chord-start-screen" class="game-content active">
                            <h2 class="welcome-title" data-i18n="chords.title">Chord Recognition</h2>
                            <p class="welcome-text" data-i18n="chords.welcome">Practice identifying and playing common guitar chords.</p>
                            <button id="chord-start-btn" class="start-btn" data-i18n="chords.startButton">Start Chord Session</button>
                        </div>
                        
                        <div id="chord-pause-overlay" class="pause-overlay" style="display: none;">
                            <div class="pause-content">
                                <h2>Session Paused</h2>
                                <p>Take your time. Click Resume when you're ready to continue.</p>
                                <button id="chord-resume-overlay-btn" class="resume-btn">‚ñ∂ Resume</button>
                            </div>
                        </div>
                        
                        <div id="chord-fret-to-name-game" class="game-content">
                            <h2 class="question" data-i18n="chords.questions.fretToName">What chord is this?</h2>
                            <div class="chord-game-layout">
                                <div class="chord-game-left">
                                    <div class="fretboard-container">
                                        <div class="fretboard" id="fretboard-chord-fret-to-name">
                                            <!-- Fretboard will be generated dynamically -->
                                        </div>
                                    </div>
                                    <button class="play-sound-btn" id="play-chord-fret">üîä Play Chord</button>
                                </div>
                                <div class="chord-game-right">
                                    <!-- Chord Selection Accordion -->
                                    <div class="accordion-section">
                                        <button class="accordion-toggle active" data-target="chord-selector-content">
                                            <span>Chord Selection</span>
                                            <span class="accordion-icon">‚ñº</span>
                                        </button>
                                        <div id="chord-selector-content" class="accordion-content show">
                                            <div class="chord-buttons">
                                                <h4>Major</h4>
                                                <button class="chord-btn" data-chord="C">C</button>
                                                <button class="chord-btn" data-chord="D">D</button>
                                                <button class="chord-btn" data-chord="E">E</button>
                                                <button class="chord-btn" data-chord="F">F</button>
                                                <button class="chord-btn" data-chord="G">G</button>
                                                <button class="chord-btn" data-chord="A">A</button>
                                                
                                                <h4>Minor</h4>
                                                <button class="chord-btn" data-chord="Am">Am</button>
                                                <button class="chord-btn" data-chord="Bm">Bm</button>
                                                <button class="chord-btn" data-chord="Dm">Dm</button>
                                                <button class="chord-btn" data-chord="Em">Em</button>
                                                
                                                <h4>7th</h4>
                                                <button class="chord-btn" data-chord="C7">C7</button>
                                                <button class="chord-btn" data-chord="D7">D7</button>
                                                <button class="chord-btn" data-chord="E7">E7</button>
                                                <button class="chord-btn" data-chord="G7">G7</button>
                                                <button class="chord-btn" data-chord="A7">A7</button>
                                                <div></div>
                                                
                                                <h4>Major 7th</h4>
                                                <button class="chord-btn" data-chord="Cmaj7">Cmaj7</button>
                                                <button class="chord-btn" data-chord="Dmaj7">Dmaj7</button>
                                                <button class="chord-btn" data-chord="Emaj7">Emaj7</button>
                                                <button class="chord-btn" data-chord="Gmaj7">Gmaj7</button>
                                                <button class="chord-btn" data-chord="Amaj7">Amaj7</button>
                                                <div></div>
                                                
                                                <h4>Minor 7th</h4>
                                                <button class="chord-btn" data-chord="Am7">Am7</button>
                                                <button class="chord-btn" data-chord="Bm7">Bm7</button>
                                                <button class="chord-btn" data-chord="Cm7">Cm7</button>
                                                <button class="chord-btn" data-chord="Dm7">Dm7</button>
                                                <button class="chord-btn" data-chord="Em7">Em7</button>
                                                <div></div>
                                                
                                                <h4>Sus2</h4>
                                                <button class="chord-btn" data-chord="Csus2">Csus2</button>
                                                <button class="chord-btn" data-chord="Dsus2">Dsus2</button>
                                                <button class="chord-btn" data-chord="Asus2">Asus2</button>
                                                <div></div>
                                                
                                                <h4>Sus4</h4>
                                                <button class="chord-btn" data-chord="Csus4">Csus4</button>
                                                <button class="chord-btn" data-chord="Dsus4">Dsus4</button>
                                                <button class="chord-btn" data-chord="Asus4">Asus4</button>
                                                <button class="chord-btn" data-chord="Esus4">Esus4</button>
                                                
                                                <h4>6th</h4>
                                                <button class="chord-btn" data-chord="C6">C6</button>
                                                <button class="chord-btn" data-chord="D6">D6</button>
                                                <button class="chord-btn" data-chord="G6">G6</button>
                                                <button class="chord-btn" data-chord="Am6">Am6</button>
                                                <button class="chord-btn" data-chord="Em6">Em6</button>
                                                <div></div>
                                                
                                                <h4>Add9</h4>
                                                <button class="chord-btn" data-chord="Cadd9">Cadd9</button>
                                                <button class="chord-btn" data-chord="Dadd9">Dadd9</button>
                                                <button class="chord-btn" data-chord="Gadd9">Gadd9</button>
                                                <div></div>
                                                
                                                <h4>Power</h4>
                                                <button class="chord-btn" data-chord="C5">C5</button>
                                                <button class="chord-btn" data-chord="D5">D5</button>
                                                <button class="chord-btn" data-chord="E5">E5</button>
                                                <button class="chord-btn" data-chord="F5">F5</button>
                                                <button class="chord-btn" data-chord="G5">G5</button>
                                                <button class="chord-btn" data-chord="A5">A5</button>
                                                
                                                <h4>Dim/Aug</h4>
                                                <button class="chord-btn" data-chord="Cdim">C¬∞</button>
                                                <button class="chord-btn" data-chord="Ddim">D¬∞</button>
                                                <button class="chord-btn" data-chord="Caug">C+</button>
                                                <button class="chord-btn" data-chord="Gaug">G+</button>
                                                
                                                <h4>Inversions</h4>
                                                <button class="chord-btn" data-chord="C_1st_inv">C/E</button>
                                                <button class="chord-btn" data-chord="G_1st_inv">G/B</button>
                                                <button class="chord-btn" data-chord="C_2nd_inv">C/G</button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Settings Accordion -->
                                    <div class="accordion-section">
                                        <button class="accordion-toggle" data-target="chord-settings-content">
                                            <span>Settings</span>
                                            <span class="accordion-icon">‚ñ∂</span>
                                        </button>
                                        <div id="chord-settings-content" class="accordion-content">
                                            <div class="setting-group">
                                                <label>Basic Chord Types:</label>
                                                <div class="chord-type-toggles">
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="major" checked> Major</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="minor" checked> Minor</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="dominant7"> 7th</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="major7"> Major 7th</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="minor7"> Minor 7th</label>
                                                </div>
                                            </div>
                                            <div class="setting-group">
                                                <label>Extended:</label>
                                                <div class="chord-type-toggles">
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="sus2"> Sus2</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="sus4"> Sus4</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="6th"> 6th</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="m6"> Minor 6th</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="add9"> Add9</label>
                                                </div>
                                            </div>
                                            <div class="setting-group">
                                                <label>Special:</label>
                                                <div class="chord-type-toggles">
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="power"> Power</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="dim"> Diminished</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="aug"> Augmented</label>
                                                </div>
                                            </div>
                                            <div class="setting-group">
                                                <label>Advanced:</label>
                                                <div class="chord-type-toggles">
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="triad_major"> Triads (Maj)</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="triad_minor"> Triads (Min)</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="inversion_major"> Inversions</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="caged_major"> CAGED</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="major_high"> High Maj</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="minor_high"> High Min</label>
                                                </div>
                                            </div>
                                            <div class="setting-group">
                                                <label data-i18n="chords.settings.shellChords">Shell Chords:</label>
                                                <div class="chord-type-toggles">
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="shell_dom7"> <span data-i18n="chords.settings.shellDom7">Dom7</span></label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="shell_maj7"> <span data-i18n="chords.settings.shellMaj7">Maj7</span></label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="shell_min7"> <span data-i18n="chords.settings.shellMin7">Min7</span></label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="shell_min7b5"> <span data-i18n="chords.settings.shellMin7b5">Min7‚ô≠5</span></label>
                                                </div>
                                            </div>
                                            <div class="setting-group">
                                                <label>
                                                    <input type="checkbox" id="include-barre" checked>
                                                    Include barre chords
                                                </label>
                                            </div>
                                            <div class="setting-group">
                                                <label>Fret range:</label>
                                                <input type="number" id="chord-min-fret" min="0" max="15" value="0"> -
                                                <input type="number" id="chord-max-fret" min="3" max="15" value="12">
                                            </div>
                                            <div class="setting-group">
                                                <button id="apply-chord-settings-fret-to-name" class="apply-settings-btn" data-i18n="common.applySettings">Apply Settings</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="chord-name-to-fret-game" class="game-content">
                            <h2 class="question">Play this chord:</h2>
                            <div class="chord-game-layout">
                                <div class="chord-game-left">
                                    <div class="chord-display">
                                        <span class="chord-name" id="target-chord">-</span>
                                    </div>
                                    <button class="play-sound-btn" id="play-chord-name">üîä Play Chord</button>
                                    <div class="help-controls">
                                        <button class="show-me-btn" id="show-me-chord">Show me</button>
                                        <button class="next-btn" id="next-chord" style="display: none;">Next</button>
                                    </div>
                                    <p class="instruction-text">Click on the fretboard to form the chord:</p>
                                    <div class="fretboard-container">
                                        <div class="fretboard" id="fretboard-chord-name-to-fret">
                                            <!-- Fretboard will be generated dynamically -->
                                        </div>
                                    </div>
                                    <div class="selected-notes">
                                        <span>Selected: <span id="selected-chord-notes">None</span></span>
                                        <button id="clear-chord-selection" class="clear-btn-small">Clear</button>
                                        <button id="submit-chord-selection" class="submit-btn-small">Submit</button>
                                    </div>
                                </div>
                                <div class="chord-game-right">
                                    <!-- Settings Accordion -->
                                    <div class="accordion-section">
                                        <button class="accordion-toggle" data-target="chord-settings-name-to-fret">
                                            <span>Settings</span>
                                            <span class="accordion-icon">‚ñ∂</span>
                                        </button>
                                        <div id="chord-settings-name-to-fret" class="accordion-content">
                                            <div class="setting-group">
                                                <label>Basic Chord Types:</label>
                                                <div class="chord-type-toggles">
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="major" checked> Major</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="minor" checked> Minor</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="dominant7"> 7th</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="major7"> Major 7th</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="minor7"> Minor 7th</label>
                                                </div>
                                            </div>
                                            <div class="setting-group">
                                                <label>Extended:</label>
                                                <div class="chord-type-toggles">
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="sus2"> Sus2</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="sus4"> Sus4</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="6th"> 6th</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="m6"> Minor 6th</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="add9"> Add9</label>
                                                </div>
                                            </div>
                                            <div class="setting-group">
                                                <label>Special:</label>
                                                <div class="chord-type-toggles">
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="power"> Power</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="dim"> Diminished</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="aug"> Augmented</label>
                                                </div>
                                            </div>
                                            <div class="setting-group">
                                                <label>Advanced:</label>
                                                <div class="chord-type-toggles">
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="triad_major"> Triads (Maj)</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="triad_minor"> Triads (Min)</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="inversion_major"> Inversions</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="caged_major"> CAGED</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="major_high"> High Maj</label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="minor_high"> High Min</label>
                                                </div>
                                            </div>
                                            <div class="setting-group">
                                                <label data-i18n="chords.settings.shellChords">Shell Chords:</label>
                                                <div class="chord-type-toggles">
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="shell_dom7"> <span data-i18n="chords.settings.shellDom7">Dom7</span></label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="shell_maj7"> <span data-i18n="chords.settings.shellMaj7">Maj7</span></label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="shell_min7"> <span data-i18n="chords.settings.shellMin7">Min7</span></label>
                                                    <label><input type="checkbox" class="chord-type-toggle" data-type="shell_min7b5"> <span data-i18n="chords.settings.shellMin7b5">Min7‚ô≠5</span></label>
                                                </div>
                                            </div>
                                            <div class="setting-group">
                                                <label><input type="checkbox" id="include-barre" checked> Include Barre Chords</label>
                                            </div>
                                            <div class="setting-group">
                                                <label>Fret Range:</label>
                                                <div class="fret-range-inputs">
                                                    <input type="number" id="chord-min-fret" min="0" max="24" value="0">
                                                    <span>to</span>
                                                    <input type="number" id="chord-max-fret" min="0" max="24" value="12">
                                                </div>
                                            </div>
                                            <div class="setting-group">
                                                <button id="apply-chord-settings-name-to-fret" class="apply-settings-btn" data-i18n="common.applySettings">Apply Settings</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="chord-positions-game" class="game-content">
                            <h2 class="question">Practice Chord Positions</h2>
                            <div class="chord-positions-layout">
                                <div class="chord-positions-main">
                                    <div class="current-chord-display">
                                        <span class="chord-name" id="positions-chord-name">-</span>
                                        <span class="position-info" id="positions-info">Position 1 of 5</span>
                                    </div>

                                    <div class="metronome-controls">
                                        <label>BPM: <span id="bpm-display">80</span></label>
                                        <input type="range" id="bpm-slider" min="40" max="200" value="80" step="5">
                                        <button id="toggle-metronome" class="metronome-btn">Start</button>
                                        <button id="play-current-shape" class="play-sound-btn">üîä Play Current Shape</button>
                                    </div>

                                    <div class="fretboard-container">
                                        <div class="fretboard" id="fretboard-chord-positions">
                                            <!-- Fretboard will be generated dynamically -->
                                        </div>
                                    </div>
                                </div>

                                <div class="chord-positions-settings">
                                    <!-- Root Note Selection -->
                                    <div class="accordion-section">
                                        <button class="accordion-toggle active" data-target="root-note-selector">
                                            <span>Root Note</span>
                                            <span class="accordion-icon">‚ñº</span>
                                        </button>
                                        <div id="root-note-selector" class="accordion-content show">
                                            <div class="note-buttons-grid">
                                                <button class="root-note-btn" data-note="C">C</button>
                                                <button class="root-note-btn" data-note="C#">C#/Db</button>
                                                <button class="root-note-btn" data-note="D">D</button>
                                                <button class="root-note-btn" data-note="D#">D#/Eb</button>
                                                <button class="root-note-btn" data-note="E">E</button>
                                                <button class="root-note-btn" data-note="F">F</button>
                                                <button class="root-note-btn" data-note="F#">F#/Gb</button>
                                                <button class="root-note-btn" data-note="G">G</button>
                                                <button class="root-note-btn" data-note="G#">G#/Ab</button>
                                                <button class="root-note-btn" data-note="A">A</button>
                                                <button class="root-note-btn" data-note="A#">A#/Bb</button>
                                                <button class="root-note-btn" data-note="B">B</button>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Chord Quality Selection -->
                                    <div class="accordion-section">
                                        <button class="accordion-toggle active" data-target="chord-quality-selector">
                                            <span>Chord Type</span>
                                            <span class="accordion-icon">‚ñº</span>
                                        </button>
                                        <div id="chord-quality-selector" class="accordion-content show chord-quality-scroll">
                                            <div class="chord-quality-toggles">
                                                <h5 class="quality-group-title">Basic Triads</h5>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="major" checked> Major</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="minor"> Minor</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="diminished"> Diminished (dim)</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="augmented"> Augmented (+)</label>

                                                <h5 class="quality-group-title">Suspended</h5>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="sus2"> Sus2</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="sus4"> Sus4</label>

                                                <h5 class="quality-group-title">Seventh Chords</h5>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="dominant7"> 7 (Dominant 7th)</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="major7"> maj7 (Major 7th)</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="minor7"> m7 (Minor 7th)</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="diminished7"> dim7</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="minorMajor7"> m(maj7)</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="7sus4"> 7sus4</label>

                                                <h5 class="quality-group-title">Altered Dominants</h5>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="7b5"> 7‚ô≠5</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="7b9"> 7‚ô≠9</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="7sharp9"> 7‚ôØ9</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="7sharp11"> 7‚ôØ11</label>

                                                <h5 class="quality-group-title">Added Note Chords</h5>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="add9"> add9</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="6"> 6 (Sixth)</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="6add9"> 6/9</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="m6"> m6 (Minor 6th)</label>

                                                <h5 class="quality-group-title">Extended Chords</h5>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="9"> 9 (Ninth)</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="11"> 11 (Eleventh)</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="13"> 13 (Thirteenth)</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="m9"> m9 (Minor 9th)</label>
                                                <label><input type="checkbox" class="quality-toggle" data-quality="maj9"> maj9 (Major 9th)</label>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- String Set Selection -->
                                    <div class="accordion-section">
                                        <button class="accordion-toggle active" data-target="string-set-selector">
                                            <span>Voicing Types</span>
                                            <span class="accordion-icon">‚ñº</span>
                                        </button>
                                        <div id="string-set-selector" class="accordion-content show">
                                            <div class="string-set-toggles">
                                                <label><input type="checkbox" class="string-set-toggle" data-set="all" checked> All Shapes</label>
                                                <label><input type="checkbox" class="string-set-toggle" data-set="6-string"> Focus: 6-String Voicings</label>
                                                <label><input type="checkbox" class="string-set-toggle" data-set="4-string"> Focus: 4-String Voicings</label>
                                                <label><input type="checkbox" class="string-set-toggle" data-set="3-string"> Focus: 3-String Voicings</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Spot a Note Module -->
            <section id="spot-note-module" class="module">
                <div class="game-container">
                    <div class="question-card">
                        <div class="timer-display" id="spot-timer">00:00</div>
                        <div class="score-display">
                            <span class="correct">‚úì <span id="spot-correct-count">0</span></span>
                            <span class="incorrect">‚úó <span id="spot-incorrect-count">0</span></span>
                            <span class="streak">üî• <span id="spot-streak-count">0</span></span>
                        </div>

                        <div class="session-controls" id="spot-session-controls" style="display: none;">
                            <button id="spot-pause-btn" class="pause-btn" data-i18n="common.pause">‚è∏ Pause</button>
                            <button id="spot-resume-btn" class="resume-btn" style="display: none;" data-i18n="common.resume">‚ñ∂ Resume</button>
                            <button id="spot-stop-btn" class="stop-btn" data-i18n="common.endSession">End Session</button>
                        </div>

                        <div class="feedback" id="spot-feedback"></div>

                        <div id="spot-start-screen" class="game-content active">
                            <h2 class="welcome-title" data-i18n="spotNote.title">Spot a Note</h2>
                            <p class="welcome-text" data-i18n="spotNote.welcome">Find the same note across all strings on the fretboard.</p>
                            <button id="spot-start-btn" class="start-btn" data-i18n="spotNote.startButton">Start Practice Session</button>
                        </div>

                        <div id="spot-game" class="game-content">
                            <h2 class="question" data-i18n="spotNote.question">Find all instances of this note:</h2>
                            <div class="note-display">
                                <span class="note-name" id="spot-target-note">-</span>
                            </div>
                            <div class="help-controls">
                                <button class="show-me-btn" id="spot-reveal-btn" data-i18n="spotNote.reveal">Reveal</button>
                                <button class="next-btn" id="spot-next-btn" style="display: none;" data-i18n="common.next">Next</button>
                            </div>
                            <p class="instruction-text" data-i18n="spotNote.instruction">Click on the fretboard to mark the note on each string:</p>
                            <div class="fretboard-container">
                                <div class="fretboard" id="fretboard-spot-note">
                                    <!-- Fretboard will be generated dynamically -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-panel">
                        <h3 data-i18n="common.settings">Settings</h3>
                        <div class="setting-group">
                            <label data-i18n="spotNote.settings.difficultyLevel">Difficulty Level:</label>
                            <select id="spot-level">
                                <option value="1" data-i18n="spotNote.settings.level1">Level 1 - Find 1 string (5 shown)</option>
                                <option value="2" data-i18n="spotNote.settings.level2">Level 2 - Find 2 strings (4 shown)</option>
                                <option value="3" selected data-i18n="spotNote.settings.level3">Level 3 - Find 3 strings (3 shown)</option>
                                <option value="4" data-i18n="spotNote.settings.level4">Level 4 - Find 4 strings (2 shown)</option>
                                <option value="5" data-i18n="spotNote.settings.level5">Level 5 - Find 5 strings (1 shown)</option>
                            </select>
                        </div>
                        <div class="setting-group">
                            <label>
                                <input type="checkbox" id="spot-include-sharps" checked>
                                <span data-i18n="spotNote.settings.includeSharps">Include sharps/flats</span>
                            </label>
                        </div>
                        <div class="setting-group">
                            <label data-i18n="spotNote.settings.fretRange">Fret range:</label>
                            <input type="number" id="spot-min-fret" min="0" max="24" value="0"> -
                            <input type="number" id="spot-max-fret" min="0" max="24" value="12">
                        </div>
                    </div>
                </div>
            </section>

            <!-- Assistant Module -->
            <section id="assistant-module" class="module">
                <div class="assistant-container">
                    <div class="assistant-main">
                        <div class="current-chord-display">
                            <span class="chord-name" id="assistant-chord-name">-</span>
                            <span class="position-info" id="assistant-position-info">Ready</span>
                        </div>

                        <div class="fretboard-container">
                            <div class="fretboard" id="fretboard-assistant">
                                <!-- Fretboard will be generated dynamically -->
                            </div>
                        </div>

                        <div class="playback-controls">
                            <div class="bpm-control">
                                <label>BPM: <span id="assistant-bpm-display">80</span></label>
                                <input type="range" id="assistant-bpm-slider" min="40" max="200" value="80" step="5">
                            </div>
                            <div class="control-buttons">
                                <button id="assistant-start" class="control-btn start-btn" data-i18n="assistant.controls.start">‚ñ∂ Start</button>
                                <button id="assistant-pause" class="control-btn pause-btn" style="display: none;" data-i18n="common.pause">‚è∏ Pause</button>
                                <button id="assistant-resume" class="control-btn resume-btn" style="display: none;" data-i18n="common.resume">‚ñ∂ Resume</button>
                                <button id="assistant-stop" class="control-btn stop-btn" style="display: none;" data-i18n="assistant.controls.stop">‚èπ Stop</button>
                                <button id="assistant-play-shape" class="control-btn play-btn" data-i18n="assistant.controls.playShape">üîä Play Current Shape</button>
                            </div>
                        </div>

                        <div class="tab-display-container">
                            <h4 data-i18n="assistant.tabDisplay">Tablature:</h4>
                            <pre id="assistant-tab-display" class="tab-display">Ready for instructions...</pre>
                        </div>

                        <div class="additional-notes-container">
                            <div id="assistant-additional-notes" class="additional-notes"></div>
                        </div>
                    </div>

                    <div class="chat-interface">
                        <div class="chat-header">
                            <h3 data-i18n="assistant.chatTitle">Guitar Assistant</h3>
                            <button id="clear-chat" class="clear-chat-btn" data-i18n="assistant.clearChat">Clear Chat</button>
                        </div>
                        <div id="chat-messages" class="chat-messages">
                            <div class="chat-message assistant-message">
                                <div class="message-avatar">ü§ñ</div>
                                <div class="message-content">
                                    <p data-i18n="assistant.welcome">Hi! I'm your guitar assistant. Ask me about chord progressions, scales, techniques, or anything guitar-related. I can show you shapes on the fretboard!</p>
                                </div>
                            </div>
                        </div>
                        <div class="chat-input-container">
                            <textarea id="chat-input" class="chat-input" placeholder="Ask me anything about guitar..." data-i18n-placeholder="assistant.inputPlaceholder" rows="2"></textarea>
                            <button id="send-message" class="send-btn" data-i18n="assistant.send">Send</button>
                        </div>
                        <div id="loading-indicator" class="loading-indicator" style="display: none;">
                            <div class="loading-spinner"></div>
                            <span data-i18n="assistant.thinking">Assistant is thinking...</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Statistics Module -->
            <section id="stats-module" class="module">
                <div class="stats-container">
                    <h2 data-i18n="statistics.title">Your Progress</h2>

                    <div class="stats-overview">
                        <div class="stat-card">
                            <h3 data-i18n="statistics.totalSessions">Total Sessions</h3>
                            <p class="stat-value" id="total-sessions">0</p>
                        </div>
                        <div class="stat-card">
                            <h3 data-i18n="statistics.totalQuestions">Total Questions</h3>
                            <p class="stat-value" id="total-questions">0</p>
                        </div>
                        <div class="stat-card">
                            <h3 data-i18n="statistics.accuracy">Accuracy</h3>
                            <p class="stat-value" id="accuracy">0%</p>
                        </div>
                        <div class="stat-card">
                            <h3 data-i18n="statistics.avgTime">Avg Response Time</h3>
                            <p class="stat-value" id="avg-time">0s</p>
                        </div>
                    </div>

                    <div class="chart-container">
                        <h3 data-i18n="statistics.progressOverTime">Progress Over Time</h3>
                        <canvas id="progress-chart"></canvas>
                    </div>

                    <div class="chart-container">
                        <h3 data-i18n="statistics.responseTimeByNote">Response Time by Note</h3>
                        <canvas id="note-chart"></canvas>
                    </div>

                    <button id="clear-stats" class="clear-btn" data-i18n="statistics.clearStats">Clear All Statistics</button>
                </div>
            </section>
        </main>

        <!-- Songs Browser Overlay (Hidden by default, activated with Shift+S) -->
        <div id="songs-browser-overlay" class="songs-browser-overlay" style="display: none;">
            <div class="songs-browser-container">
                <div class="songs-browser-header">
                    <h2 data-i18n="songsBrowser.title">Songs Browser</h2>
                    <button id="close-songs-browser" class="close-browser-btn" data-i18n="songsBrowser.close">‚úï</button>
                </div>

                <div class="songs-browser-tabs">
                    <button class="browser-tab active" data-tab="browse" data-i18n="songsBrowser.tabs.browse">Browse by Book</button>
                    <button class="browser-tab" data-tab="search" data-i18n="songsBrowser.tabs.search">Search Songs</button>
                </div>

                <div class="songs-browser-content">
                    <!-- Browse Tab -->
                    <div id="browse-tab" class="browser-tab-content active">
                        <div class="browse-controls">
                            <select id="book-selector" class="book-selector">
                                <option value="" data-i18n="songsBrowser.browse.selectBook">Select a book...</option>
                            </select>
                            <select id="sort-selector" class="sort-selector">
                                <option value="original" data-i18n="songsBrowser.browse.originalOrder">Original Order</option>
                                <option value="alphabetical" data-i18n="songsBrowser.browse.alphabetical">Alphabetical</option>
                            </select>
                        </div>
                        <div id="songs-list" class="songs-list">
                            <!-- Songs will be populated here -->
                        </div>
                    </div>

                    <!-- Search Tab -->
                    <div id="search-tab" class="browser-tab-content">
                        <div class="search-controls">
                            <input type="text" id="song-search-input" class="song-search-input" data-i18n-placeholder="songsBrowser.search.placeholder" placeholder="Search for a song...">
                            <div id="search-autocomplete" class="search-autocomplete" style="display: none;">
                                <!-- Autocomplete suggestions will appear here -->
                            </div>
                        </div>
                        <div id="search-results" class="search-results">
                            <!-- Search results will appear here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- PDF Viewer (appears when song is selected) -->
            <div id="pdf-viewer" class="pdf-viewer" style="display: none;">
                <div class="pdf-viewer-header">
                    <div class="pdf-info">
                        <button id="back-to-list" class="back-btn" data-i18n="songsBrowser.viewer.backToList">‚Üê Back to List</button>
                        <h3 id="current-song-title">Song Title</h3>
                        <span id="current-page-info">Page 1 of 3</span>
                        <button id="fullscreen-btn" class="fullscreen-btn" data-i18n="songsBrowser.viewer.fullscreen">‚õ∂ Fullscreen</button>
                    </div>
                </div>
                <div class="pdf-viewer-content">
                    <button id="exit-fullscreen-btn" class="exit-fullscreen-btn" data-i18n="songsBrowser.viewer.exitFullscreen">‚úï Exit Fullscreen</button>
                    <button id="prev-page" class="nav-btn nav-btn-left">‚Äπ</button>
                    <canvas id="pdf-canvas" class="pdf-canvas"></canvas>
                    <button id="next-page" class="nav-btn nav-btn-right">‚Ä∫</button>
                </div>
                <div class="pdf-viewer-footer">
                    <input type="range" id="page-slider" class="page-slider" min="1" max="1" value="1">
                    <div class="zoom-controls">
                        <button id="zoom-out" class="zoom-btn">‚àí</button>
                        <span id="zoom-level">100%</span>
                        <button id="zoom-in" class="zoom-btn">+</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/guitar.js"></script>
    <script src="js/intervals.js"></script>
    <script src="js/chords.js"></script>
    <script src="js/fretboard.js"></script>
    <script src="js/game.js"></script>
    <script src="js/intervalGame.js"></script>
    <script src="js/chordGame.js"></script>
    <script src="js/chordPositionsGame.js"></script>
    <script src="js/spotNoteGame.js"></script>
    <script src="js/assistantGame.js"></script>
    <script src="js/statistics.js"></script>
    <script src="js/songsBrowser.js"></script>
    <script src="js/mobileManager.js"></script>
    <script src="js/app.js"></script>
    <script>
        // Initialize language selector
        document.addEventListener('DOMContentLoaded', () => {
            const languageSelect = document.getElementById('language-select');

            // Set the current language in the dropdown
            languageSelect.value = window.i18n.getCurrentLanguage();

            // Handle language change
            languageSelect.addEventListener('change', (e) => {
                window.i18n.switchLanguage(e.target.value);
            });
        });
    </script>
</body>
</html>